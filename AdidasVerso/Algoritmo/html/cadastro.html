<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdidasVerso</title>
    <link rel="stylesheet" href="C:\Users\55119\Desktop\AdidasVersu\AdidasVerso\Algoritmo\css\cadastro.css">
    <link rel="stylesheet" href="C:\Users\55119\Desktop\AdidasVersu\AdidasVerso\Algoritmo\css\navbar.css">
   
</head>

<body>
    <div class="header">
        <div class="logo">
            <a href="#home"><img src="C:\Users\55119\Desktop\AdidasVersu\AdidasVerso\Algoritmo\imagens\logoAdidas2.png"
                    style=width:100px; margin-left: 20px; margin-top: 20px;"width="200"></a>
        </div>

        <div class="nav_home">
            <ul>
               
                <li><a href="C:\Users\55119\Desktop\AdidasVersu\AdidasVerso\Algoritmo\html\Index.HTML">Home</a></li>
                <li><a href="C:\Users\55119\Desktop\AdidasVersu\AdidasVerso\Algoritmo\html\Index.HTML">Curiosidades</a></li>
                <li><a href="C:\Users\55119\Desktop\AdidasVersu\AdidasVerso\Algoritmo\html\Index.HTML">Impossible</a></li>
                <li><a href="C:\Users\55119\Desktop\AdidasVersu\AdidasVerso\Algoritmo\html\Index.HTML">Quiz</a></li>
                <li><a href="C:\Users\55119\Desktop\AdidasVersu\AdidasVerso\Algoritmo\html\Index.HTML">Sobre</a></li>
                <li><a href="C:\Users\55119\Desktop\AdidasVersu\AdidasVerso\Algoritmo\html\Index.HTML">Avalie</a></li>
            </ul>
        </div>

        <div class="log_cad">
            <li class="botao_log"><a href="login.html">Login</a></li>
            <li class="botao_cad"><a href="cadastro.html">Cadastro</a></li>
        </div>
    </div>

        
    <div class="cadastro">
        <div class="direita-cad">
            <img src="C:\Users\55119\Desktop\AdidasVersu\AdidasVerso\Algoritmo\imagens\macacoCadastro.jpg" alt="" class="imagemlogo">
          
         </div>
         <img src="" alt=""
            style=width:300px; margin-top: 10px;>

        <div class="box_form">
                    <h1 class="fraseCadastro">Usuario</h1>
                    <div class="cl_input">
                        <input class="cl_nome" type="text" placeholder="Nome" id="in_nome">

                        <input class="cl_email" type="mail" placeholder="seuemail@email.com" id="in_email">
                    
                        <input class="cl_senha" type="password" placeholder="Senha" id="in_senha">
                   
                        <input class="cl_confirmacao" type="password" placeholder="Confirme sua senha"
                            id="in_confirmacao">
                        </div>
                        <div class="div_cad">
                <button class="btn" onclick="cadastrar()"><a>Cadastrar</a></button>
            </div>
    </div>
</div>

   
</body>
</html>
<script>
        
      function cadastrar() {
        var emailVar = in_email.value
        var senhaVar = in_senha.value
        var confirmarVar= in_confirmacao.value
       
        var possui_especial =
          senha.indexOf('#') >= 0 ||
          senha.indexOf('@') >= 0 ||
          senha.indexOf('!') >= 0 ||
          senha.indexOf('%') >= 0 ||
          senha.indexOf('?') >= 0 ||
          senha.indexOf('-') >= 0 ||
          senha.indexOf('+') >= 0 ||
          senha.indexOf('_') >= 0;
    
        
        if (email.indexOf('@') >= 0 && (email.endsWith('.com') || email.endsWith('.br') || email.endsWith('.school'))) {
          erroEmail.style.display = 'none'
      
        }
        else {
          erroEmail.style.display = 'block';
          iptEmail.style.borderColor = 'red';
        }
    
        if (senha.length >= 8 && possui_especial && (senha != senha.toUpperCase() && senha != senha.toLowerCase())) {
          erroSenha.style.display = 'none'
        }
        else {
          erroSenha.style.display = 'block'
          iptSenha.style.borderColor = 'red'
        }
    
        if (email.indexOf('@') >= 0 && (email.endsWith('.com') || email.endsWith('.br') || email.endsWith('.school')) && senha.length >= 8 && possui_especial && (senha != senha.toUpperCase() && senha != senha.toLowerCase())) {
          direito.style.display = "none";
          esquerdo.style.display = "block";
          passoUm.style.display = "none";
          cadastrarse.style.display = "block";
          botaoVoltar.style.display = "block";
          divBotao.style.flexDirection = "row";
          segundoPasso.style.backgroundColor = "#38703D";
          numeroDois.style.color = "white";
        }
      
    
        fetch("/usuarios/cadastrar", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            // crie um atributo que recebe o valor recuperado aqui
            // Agora v√° para o arquivo routes/usuario.js
            emailServer: emailVar,
            senhaServer: senhaVar,
            nomeServer: nomeVar,
            confirmarServer: confirmarVar
          }),
        })
          .then(function (resposta) {
            console.log("resposta: ", resposta);
    
            if (resposta.ok) {
              // cardErro.style.display = "block";
              // cardErro.style.border = 'solid 1px #091227';
              // mensagem_erro.innerHTML =
              //   "Cadastro realizado com sucesso! <br> Redirecionando para tela de Login...";
    
              setTimeout(() => {
                window.location = "login.html";
              }, "2000");
    
              // limparFormulario();
              // finalizarAguardar();
            } else {
              throw "Houve um erro ao tentar realizar o cadastro!";
            }
          })
          .catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            // finalizarAguardar();
          });
    
        return false;
    
    
    
      }
    
    
    
     
      

      